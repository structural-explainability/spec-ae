# REQ.PROJECT: This repository SHOULD include a .pre-commit-config.yaml when quality gates are required.
# WHY: Provide fast, consistent local checks aligned with CI.
# WHY: Keep local checks compatible with repository-wide formatting rules.
# OBS: Formatting baselines are defined in 
#      .editorconfig (whitespace/indentation) and
#      .gitattributes (EOL normalization).
# OBS: These hooks do not override .editorconfig or .gitattributes;
#      they only prevent common diff noise.
# ALT: CI-only checks are acceptable, but local pre-commit reduces cycle time
#      and prevents avoidable churn.
# CUSTOM: Keep the hook set minimal and non-destructive for normative Markdown specs.
#
# OPTIONAL LOCAL USAGE (no repo venv required):
#   Install uv (once, user-level).
#   uv self update
#   uvx pre-commit install
#   uvx pre-commit run --all-files
#
# NOTE: pre-commit is optional. 
#       Repositories do not require Python, uv, or pre-commit to clone or commit.

exclude: |
  (?x)^(
    \.DS_Store|
    \.ipynb_checkpoints/|
    \.mypy_cache/|
    \.pytest_cache/|
    \.ruff_cache/|
    \.tox/|
    \.venv/|
    build/|
    dist/|
    node_modules/|
    site/
  )

repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v6.0.0 # OBS: v6 current as of Dec 30 2025
    hooks:
      - id: check-added-large-files # OBS: prevent large binary files
      - id: trailing-whitespace # OBS: clean trailing whitespace per .editorconfig
        args: [--markdown-linebreak-ext=md] # OBS: respect Markdown line breaks
      - id: end-of-file-fixer # OBS: ensure files end with a newline per .gitattributes
      - id: check-merge-conflict # OBS: prevent committing unresolved merge conflicts
      - id: check-yaml # OBS: validate YAML syntax
        files: \.(yml|yaml|md)$


  - repo: https://github.com/rhysd/actionlint
    rev: v1.7.10 # OBS: v1.7.10 current as of Dec 30 2025
    hooks:
      - id: actionlint # OBS: validate GitHub Actions workflow syntax
        files: ^\.github/workflows/.*\.(yml|yaml)$
